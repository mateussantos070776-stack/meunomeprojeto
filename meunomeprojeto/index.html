<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KERIX - PREMIUM</title>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <style>
        :root { --primary: #ff1a1a; --bg: #050505; --card: #0d0d0d; --text: #e0e0e0; --border: #1a1a1a; }
        
        body { 
            font-family: 'Inter', -apple-system, sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            margin: 0; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
        }

        /* CONTAINER CENTRALIZADO TIPO SMARTPHONE */
        .app-container { 
            width: 380px; 
            height: 85vh; 
            background: var(--card); 
            border: 1px solid var(--border); 
            border-radius: 24px; 
            display: flex; 
            flex-direction: column; 
            position: relative; 
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        /* HEADER PREMIUM */
        .header { 
            padding: 20px; 
            text-align: center; 
            border-bottom: 1px solid var(--border); 
            background: rgba(13, 13, 13, 0.8);
            backdrop-filter: blur(10px);
        }
        .header h1 { font-size: 14px; letter-spacing: 3px; color: var(--primary); margin: 0; text-transform: uppercase; }

        /* STATUS E BOTÃ•ES COMPACTOS */
        .panel { padding: 20px; }
        .display-box { 
            background: #000; 
            border: 1px solid var(--border); 
            border-radius: 12px; 
            padding: 12px; 
            text-align: center; 
            margin-bottom: 15px; 
        }
        .label { font-size: 9px; color: #555; letter-spacing: 1px; display: block; margin-bottom: 4px; }
        .value { font-family: 'Monaco', monospace; font-size: 16px; font-weight: bold; color: #fff; }

        .btn { 
            width: 100%; 
            padding: 12px; 
            border-radius: 10px; 
            border: none; 
            font-size: 11px; 
            font-weight: 700; 
            cursor: pointer; 
            text-transform: uppercase; 
            transition: 0.2s; 
            margin-bottom: 8px;
        }
        .btn-main { background: var(--primary); color: white; }
        .btn-main:hover { background: #cc0000; transform: translateY(-1px); }
        .btn-sec { background: transparent; border: 1px solid var(--border); color: #888; }
        .btn-sec:hover { color: #fff; border-color: #333; }

        /* CHAT ESTILO MINIMALISTA */
        .chat-area { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; background: #080808; }
        .msg { padding: 10px 14px; border-radius: 14px; font-size: 12px; max-width: 80%; line-height: 1.4; }
        .msg-mem { background: var(--border); align-self: flex-start; border-bottom-left-radius: 4px; }
        .msg-adm { background: #330000; align-self: flex-end; border-bottom-right-radius: 4px; color: #ffb3b3; }

        /* INPUT PREMIUM */
        .input-bar { padding: 15px; border-top: 1px solid var(--border); display: flex; gap: 10px; background: var(--card); }
        .input-bar input { flex: 1; background: #151515; border: 1px solid var(--border); border-radius: 8px; padding: 10px; color: white; font-size: 12px; outline: none; }
        .btn-send { background: var(--primary); border: none; width: 35px; border-radius: 8px; color: white; cursor: pointer; }

        /* BOTÃƒO ADM DISCRETO */
        .adm-trigger { position: fixed; bottom: 20px; left: 20px; font-size: 18px; opacity: 0.3; cursor: pointer; transition: 0.3s; }
        .adm-trigger:hover { opacity: 1; color: var(--primary); }

        /* MODAL ADM */
        #adm-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; display: none; align-items: center; justify-content: center; }
        .login-card { background: var(--card); padding: 30px; border-radius: 20px; border: 1px solid var(--border); width: 300px; text-align: center; }

        /* ESCONDER SCROLLBAR */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="header"><h1>KERIX PREMIUM</h1></div>

        <div id="area-membro" class="panel">
            <div id="login-m">
                <div style="text-align: center; margin-top: 20px;">
                    <input type="text" id="u-m" placeholder="UsuÃ¡rio" style="width: 80%; padding: 12px; margin-bottom: 10px; background: #111; border: 1px solid #222; color: #fff; border-radius: 8px;">
                    <input type="password" id="p-m" placeholder="Senha" style="width: 80%; padding: 12px; margin-bottom: 20px; background: #111; border: 1px solid #222; color: #fff; border-radius: 8px;">
                    <button class="btn btn-main" onclick="logar('MEM')" style="width: 85%;">Acessar Portal</button>
                </div>
            </div>

            <div id="cont-m" style="display:none">
                <div class="display-box">
                    <span class="label">STATUS DO ACESSO</span>
                    <span class="value" id="val-m">U: 386273 | K: 618737</span>
                </div>
                <button class="btn btn-main" onclick="gerar('val-m')">Renovar Acesso</button>
                <button class="btn btn-sec" onclick="copiar('val-m')">Copiar Credenciais</button>
                
                <p style="font-size: 10px; color: #444; text-align: center; margin-top: 20px; letter-spacing: 1px;">SUPORTE EXCLUSIVO</p>
                <div class="chat-area" id="box-m" style="height: 200px;"></div>
                <div class="input-bar">
                    <input type="text" id="in-m" placeholder="Mensagem...">
                    <button class="btn-send" onclick="enviar('MEM')">âž”</button>
                </div>
            </div>
        </div>
    </div>

    <div class="adm-trigger" onclick="abrirAdm()">ðŸ”’</div>

    <div id="adm-modal">
        <div class="login-card" id="log-a">
            <h2 style="font-size:14px; color:red; margin-bottom:20px">PAINEL DE CONTROLE</h2>
            <input type="password" id="p-a" placeholder="Senha Mestra" style="width: 90%; padding: 10px; background: #111; border: 1px solid #222; color: white; margin-bottom: 15px;">
            <button class="btn btn-main" onclick="logar('ADM')">Entrar</button>
            <button class="btn btn-sec" onclick="fecharAdm()">Fechar</button>
        </div>
        
        <div class="app-container" id="cont-a" style="display:none; height: 90vh;">
            <div class="header"><h1>ADMINISTRAÃ‡ÃƒO</h1></div>
            <div class="panel" style="padding: 10px;">
                <button class="btn btn-sec" style="color:red; border-color: red; opacity: 0.6;" onclick="limpar()">Limpar HistÃ³rico</button>
            </div>
            <div class="chat-area" id="box-a"></div>
            <div class="input-bar">
                <input type="text" id="in-a" placeholder="Resposta oficial...">
                <button class="btn-send" onclick="enviar('ADM')">âž”</button>
            </div>
            <button class="btn btn-sec" onclick="fecharAdm()" style="margin: 10px;">Sair do Painel</button>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyA-uzWKwZ5aW-t40uamPDpHLqx3Yd4ei8g",
            authDomain: "kerix-midia.firebaseapp.com",
            databaseURL: "https://kerix-midia-default-rtdb.firebaseio.com",
            projectId: "kerix-midia",
            storageBucket: "kerix-midia.firebasestorage.app",
            messagingSenderId: "1009939877055",
            appId: "1:1009939877055:web:42b9c88989f9e17cffca0a"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function abrirAdm() { document.getElementById('adm-modal').style.display = 'flex'; }
        function fecharAdm() { document.getElementById('adm-modal').style.display = 'none'; }

        function logar(tipo) {
            if(tipo === 'MEM') {
                if(document.getElementById('u-m').value === '123') {
                    document.getElementById('login-m').style.display = 'none';
                    document.getElementById('cont-m').style.display = 'block';
                }
            } else {
                if(document.getElementById('p-a').value === '151') {
                    document.getElementById('log-a').style.display = 'none';
                    document.getElementById('cont-a').style.display = 'flex';
                }
            }
        }

        function gerar(id) {
            const u = Math.floor(100000 + Math.random() * 900000);
            const k = Math.floor(100000 + Math.random() * 900000);
            document.getElementById(id).innerText = `U: ${u} | K: ${k}`;
        }

        function copiar(id) {
            navigator.clipboard.writeText(document.getElementById(id).innerText);
            alert("Copiado!");
        }

        function enviar(autor) {
            const input = document.getElementById(autor === 'ADM' ? 'in-a' : 'in-m');
            if(input.value.trim()) {
                db.ref('mensagens').push({ autor: autor, texto: input.value });
                input.value = "";
            }
        }

        function limpar() { if(confirm("Apagar tudo?")) db.ref('mensagens').remove(); }

        db.ref('mensagens').on('value', s => {
            let html = "";
            s.forEach(m => {
                const d = m.val();
                html += `<div class="msg ${d.autor === 'ADM' ? 'msg-adm' : 'msg-mem'}">${d.texto}</div>`;
            });
            document.getElementById('box-m').innerHTML = html;
            document.getElementById('box-a').innerHTML = html;
            document.querySelectorAll('.chat-area').forEach(b => b.scrollTop = b.scrollHeight);
        });
    </script>
</body>
</html>
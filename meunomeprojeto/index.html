<!doctype html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Kerigma — Mensagens que Transformam</title>
        <!-- Tailwind CDN for quick prototype -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                <!doctype html>
                <html lang="pt-br">
                    <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width, initial-scale=1" />
                        <title>Igreja Kerigma — Mensagens que Transformam</title>
                        <!-- Tailwind CDN -->
                        <script src="https://cdn.tailwindcss.com"></script>
                        <!-- Google Fonts: Inter (body) and Montserrat (titles) -->
                        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
                        <style>
                            :root{
                                --title-font: 'Montserrat', sans-serif;
                                --body-font: 'Inter', sans-serif;
                            }
                            body{font-family:var(--body-font);} /* body text */
                            /* Titles and navbar branding */
                            h1,h2,header .font-semibold{font-family:var(--title-font);letter-spacing:-0.02em}
                            /* Ensure headings are visually strong */
                            h1{font-weight:800}
                            h2{font-weight:700}
                        </style>
                        <script>
                            tailwind.config = {
                                theme: {
                                    extend: {
                                        colors: {
                                            'kerigma-red': '#dc2626',
                                            'fire-from': '#f97316',
                                            'fire-to': '#facc15'
                                        }
                                    }
                                }
                            }
                        </script>
                        <!-- React UMD + Babel for inline JSX (prototype) -->
                        <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
                        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
                        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
                    </head>
                    <body class="antialiased font-sans bg-white text-zinc-900">
                        <div id="root"></div>

                        <script type="text/babel">
                            const { useState } = React

                            // URL de recebimento dos formulários (deixe vazia até inserir)
                            const API_URL = "" /* INSERIR_URL_AQUI */

                            async function submitToWebhook(payload){
                                try{
                                    // persistir localmente para painel administrativo/testes
                                    try{
                                        const key = 'inscricoes_kerigma'
                                        const existing = JSON.parse(localStorage.getItem(key) || '[]')
                                        existing.push({ ...payload, receivedAt: new Date().toISOString() })
                                        localStorage.setItem(key, JSON.stringify(existing))
                                    } catch(e) {
                                        console.warn('submitToWebhook: falha ao gravar localStorage', e)
                                    }

                                    if(!API_URL){
                                        console.log('submitToWebhook: API_URL não configurada — payload preparado (gravado localmente).')
                                        return { ok:false, skipped:true }
                                    }

                                    const res = await fetch(API_URL, {
                                        method: 'POST',
                                        headers: { 'Content-Type': 'application/json' },
                                        body: JSON.stringify(payload)
                                    })

                                    const text = await res.text()
                                    console.log('submitToWebhook: status', res.status)
                                    return { ok: res.ok, text }
                                }catch(err){
                                    console.error('submitToWebhook error', err)
                                    return { ok:false, error: err }
                                }
                            }

                            function KerigmaLogo({ onSecretAccess }){
                                const [clickCount, setClickCount] = useState(0)

                                const handleClick = () => {
                                    const newCount = clickCount + 1
                                    setClickCount(newCount)

                                    if(newCount === 5){
                                        setClickCount(0)
                                        onSecretAccess()
                                    }

                                    setTimeout(() => setClickCount(0), 2000)
                                }

                                return (
                                    <div className="flex items-center gap-3 cursor-pointer" onClick={handleClick}>
                                        <div className="w-10 h-10 rounded flex items-center justify-center" aria-hidden>
                                            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect x="10" y="3" width="4" height="18" fill="#dc2626"/>
                                                <rect x="3" y="10" width="18" height="4" fill="#dc2626"/>
                                                <path d="M18 6c0 2-3 3-3 5s3 3 3 5c0 2-2 4-4 4" fill="#f97316"/>
                                            </svg>
                                        </div>
                                        <span className="text-lg font-semibold">Kerigma</span>
                                    </div>
                                )
                            }

                            function Header({ openOffers, openRegistration, openCaminhada, onSecretAccess }){
                                const [menuOpen, setMenuOpen] = useState(false)

                                return (
                                    <header className="bg-white border-b border-slate-100">
                                        <div className="container mx-auto px-6 py-4 flex items-center justify-between">
                                            <div className="flex items-center gap-4">
                                                {/* Menu button (top-left) */}
                                                <button onClick={() => setMenuOpen(true)} aria-label="Abrir menu" className="p-2 rounded-md hover:bg-slate-100">
                                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                                                    </svg>
                                                </button>

                                                <KerigmaLogo onSecretAccess={onSecretAccess} />
                                            </div>

                                            <nav className="hidden md:flex items-center gap-8 text-sm">
                                                <a href="#" className="text-zinc-900 hover:text-kerigma-red">Início</a>
                                                <a href="#live" className="text-zinc-900 hover:text-kerigma-red">Ao Vivo</a>
                                                <a href="#weekly-schedule" className="text-zinc-900 hover:text-kerigma-red flex items-center gap-2">
                                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-zinc-600 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <rect x="3" y="4" width="18" height="18" rx="2" strokeWidth="1.5" />
                                                        <path d="M16 2v4M8 2v4M3 10h18" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                                    </svg>
                                                    Cronograma
                                                </a>
                                                <a href="#" className="ml-4 inline-flex items-center gap-2 bg-kerigma-red text-white px-4 py-2 rounded-md font-medium">Ao Vivo</a>
                                            </nav>

              
                                        </div>

                                        {/* Sidebar overlay */}
                                        {menuOpen && (
                                            <div>
                                                <div onClick={() => setMenuOpen(false)} className="fixed inset-0 bg-black bg-opacity-30 z-40"></div>
                                                <aside className="fixed left-0 top-0 bottom-0 w-72 bg-white z-50 shadow-lg p-6">
                                                    <div className="flex items-center justify-between mb-6">
                                                        <KerigmaLogo />
                                                        <button onClick={() => setMenuOpen(false)} aria-label="Fechar menu" className="p-2">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-zinc-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                                <path strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                                                            </svg>
                                                        </button>
                                                    </div>

                                                    <nav className="flex flex-col gap-4">
                                                        <button onClick={() => { openRegistration(true); setMenuOpen(false); }} className="text-red-600 flex items-center gap-3 group">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-zinc-600 group-hover:text-kerigma-red" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2" />
                                                                <circle cx="9" cy="7" r="4" strokeWidth="1.5" />
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M19 11v6M16 14h6" />
                                                            </svg>
                                                            Inscrições MAANAIM
                                                        </button>

                                                        <button onClick={() => { openCaminhada(true); setMenuOpen(false); }} className="text-red-600 flex items-center gap-3 group">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-zinc-600 group-hover:text-kerigma-red" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M3 21a4 4 0 014-4h10a4 4 0 014 4" />
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M7 7l0 .01M17 7l0 .01" />
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M12 3v4" />
                                                            </svg>
                                                            Inscrições Caminhada
                                                        </button>

                                                        <button onClick={() => { openOffers(true); setMenuOpen(false); }} className="text-red-600 flex items-center gap-3 group">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-zinc-600 group-hover:text-kerigma-red" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M21 10c0 6-9 12-9 12s-9-6-9-12a9 9 0 0118 0z" />
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M12 7a3 3 0 100 6 3 3 0 000-6z" />
                                                            </svg>
                                                            Ofertas
                                                        </button>

                                                        <a href="#" className="text-red-600 flex items-center gap-3 group">
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-zinc-600 group-hover:text-kerigma-red" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                                <ellipse cx="12" cy="7" rx="8" ry="3" strokeWidth="1.5" />
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M4 10v6a2 2 0 002 2h12a2 2 0 002-2v-6" />
                                                            </svg>
                                                            Dízimos
                                                        </a>

                                                        <a href="https://wa.me/5587999920172" target="_blank" rel="noopener noreferrer" className="text-red-600 flex items-center gap-3" aria-label="Fale Conosco via WhatsApp">
                                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" className="h-5 w-5 text-green-500" fill="currentColor" aria-hidden>
                                                                <path d="M20.52 3.48A11.8 11.8 0 0012 0C5.37 0 .04 5.33.04 11.96c0 2.11.55 4.17 1.59 6.01L0 24l6.31-1.66A11.92 11.92 0 0012 24c6.63 0 11.96-5.33 11.96-11.96 0-3.2-1.25-6.22-3.44-8.38zM12 21.8c-1.69 0-3.34-.44-4.78-1.27l-.34-.2-3.75.99.99-3.66-.21-.37A9.88 9.88 0 012.1 12c0-5.03 4.07-9.1 9.1-9.1 2.43 0 4.7.95 6.41 2.67A9 9 0 0121.1 12c0 5.03-4.07 9.1-9.1 9.1z"/>
                                                                <path d="M17.5 14.5c-.3-.15-1.77-.87-2.05-.97-.28-.1-.48-.15-.68.15-.2.3-.77.97-.95 1.17-.18.2-.36.22-.66.07-.3-.15-1.27-.47-2.42-1.49-.9-.8-1.5-1.79-1.67-2.09-.17-.3-.02-.46.13-.61.13-.13.3-.35.45-.52.15-.17.2-.3.3-.5.1-.2.05-.37-.02-.52-.07-.15-.68-1.64-.93-2.24-.25-.6-.5-.52-.68-.53-.18-.01-.39-.01-.6-.01-.2 0-.52.07-.8.36-.28.29-1.07 1.04-1.07 2.53 0 1.49 1.1 2.93 1.26 3.14.16.21 2.18 3.33 5.29 4.66 3.11 1.33 3.11.89 3.65.83.54-.06 1.77-.72 2.02-1.42.25-.7.25-1.3.17-1.42-.08-.12-.28-.17-.58-.32z"/>
                                                            </svg>
                                                            Fale Conosco
                                                        </a>
                                                    </nav>
                                                </aside>
                                            </div>
                                        )}
                                    </header>
                                )
                            }

                            function Hero(){
                                return (
                                    <section className="bg-white">
                                        <div className="container mx-auto px-6 py-20 text-center">
                                            <h1 className="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight text-red-600">Igreja Kerigma</h1>
                                            <p className="mt-4 text-zinc-700 text-lg max-w-2xl mx-auto">Mensagens que Transformam</p>
                                        </div>
                                    </section>
                                )
                            }

                            function WeeklySchedule(){
                                const schedule = [
                                    { day: 'Terça-feira', entries: [ { time: '', title: 'KL' } ] },
                                    { day: 'Quarta-feira', entries: [ { time: '18:30', title: 'Culto de Oração' }, { time: '19:30', title: 'Discipulado' } ] },
                                    { day: 'Quinta-feira', entries: [ { time: '19:30', title: 'Culto de Celebração' } ] },
                                    { day: 'Domingo', entries: [ { time: '09:30', title: 'Culto Manhã Agradável' } ] }
                                ]

                                return (
                                    <section id="weekly-schedule" className="container mx-auto px-6 py-12 bg-slate-50 mt-8">
                                        <h2 className="text-2xl font-bold text-red-600 mb-6">Cronograma Semanal</h2>

                                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                            {schedule.map((s, i) => (
                                                <button key={i} onClick={() => alert(`${s.day} — ${s.entries.map(en => en.title + (en.time ? ' • ' + en.time : '')).join(' / ')}`)} className="bg-white rounded-xl shadow-sm transition-all duration-300 ease-in-out transform hover:-translate-y-2 hover:scale-[1.02] hover:shadow-xl text-left p-6 flex flex-col justify-between border-l-4 border-red-600 hover:border-l-8 hover:border-red-700 cursor-pointer">
                                                    <div>
                                                        <div className="text-sm font-bold text-red-600">{s.day}</div>

                                                        <div className="mt-4 flex flex-col gap-3">
                                                            {s.entries.map((e, idx) => (
                                                                <div key={idx} className="flex items-center justify-between">
                                                                    <div className="text-lg font-semibold text-zinc-900">{e.title}</div>
                                                                    {e.time ? (
                                                                        <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium text-white" style={{background:'linear-gradient(90deg,#f97316,#facc15)'}}>
                                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                                                <circle cx="12" cy="12" r="9" strokeWidth="1.5" />
                                                                                <path d="M12 7v6l4 2" strokeWidth="1.5" />
                                                                            </svg>
                                                                            <span>{e.time}</span>
                                                                        </div>
                                                                    ) : (
                                                                        <div className="text-sm text-zinc-500">&nbsp;</div>
                                                                    )}
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    </section>
                                )
                            }

                            function OfferModal({ onClose }){
                                const copyPix = async () => {
                                    try {
                                        await navigator.clipboard.writeText('CHAVE_PIX_AQUI')
                                        alert('Chave PIX copiada')
                                    } catch (e) {
                                        alert('Não foi possível copiar. Copie manualmente: CHAVE_PIX_AQUI')
                                    }
                                }

                                return (
                                    <div className="fixed inset-0 z-50 flex items-center justify-center">
                                        <div onClick={onClose} className="absolute inset-0 bg-black bg-opacity-40"></div>
                                        <div className="relative bg-white rounded-xl shadow-xl w-full max-w-md p-6 z-10">
                                            <button onClick={onClose} aria-label="Fechar" className="absolute top-3 right-3 text-zinc-500 hover:text-zinc-800">✕</button>
                                            <h3 className="text-xl font-bold text-red-600">Dízimos e Ofertas</h3>
                                            <p className="text-sm text-zinc-600 mt-1">Contribua com a obra de Deus através do PIX</p>

                                            <div className="mt-6 flex flex-col items-center">
                                                <div className="w-48 h-48 bg-zinc-100 rounded-md flex items-center justify-center border border-zinc-200">QR CODE</div>
                                                <div className="mt-4 text-sm font-medium text-zinc-800">CHAVE_PIX_AQUI</div>
                                                <button onClick={copyPix} className="mt-4 bg-red-600 text-white px-4 py-2 rounded-md">Copiar Código</button>
                                            </div>
                                        </div>
                                    </div>
                                )
                            }

                            function RegistrationModal({ onClose }){
                                const [firstName, setFirstName] = useState('')
                                const [lastName, setLastName] = useState('')
                                const [phone, setPhone] = useState('')
                                const [age, setAge] = useState('')
                                const [city, setCity] = useState('')
                                const [ministry, setMinistry] = useState('Canhotinho')

                                const formatPhone = (value) => {
                                    const nums = value.replace(/\D/g,'')
                                    if(nums.length <= 2) return nums
                                    if(nums.length <= 7) return `(${nums.slice(0,2)}) ${nums.slice(2)}`
                                    if(nums.length <= 11) return `(${nums.slice(0,2)}) ${nums.slice(2,7)}-${nums.slice(7,11)}`
                                    return `(${nums.slice(0,2)}) ${nums.slice(2,7)}-${nums.slice(7,11)}`
                                }

                                const onPhoneChange = (e) => {
                                    setPhone(formatPhone(e.target.value))
                                }

                                const submit = async (e) => {
                                    e.preventDefault()
                                    if(!firstName || !lastName || !phone || !age || !city) return alert('Preencha todos os campos obrigatórios.')
                                    const payload = { firstName, lastName, phone, age, city, ministry, form: 'Maanaim' }

                                    const res = await submitToWebhook(payload)

                                    // Console log seguro para verificação — mascarar parte do telefone
                                    const safeLog = { ...payload, phone: phone ? phone.replace(/\d(?=\d{4})/g, '*') : phone }
                                    console.log('Registration payload dispatched:', safeLog)

                                    if(res && res.ok){
                                        // limpar campos
                                        setFirstName('')
                                        setLastName('')
                                        setPhone('')
                                        setAge('')
                                        setCity('')
                                        setMinistry('Canhotinho')
                                        onClose()
                                    } else if(res && res.skipped){
                                        // API não configurada — ainda limpa e fecha para fluxo local
                                        setFirstName('')
                                        setLastName('')
                                        setPhone('')
                                        setAge('')
                                        setCity('')
                                        setMinistry('Canhotinho')
                                        onClose()
                                    } else {
                                        alert('Erro ao enviar inscrição. Tente novamente mais tarde.')
                                    }
                                }

                                return (
                                    <div className="fixed inset-0 z-50 flex items-center justify-center">
                                        <div onClick={onClose} className="absolute inset-0 bg-black bg-opacity-40"></div>
                                        <div className="relative bg-white rounded-xl shadow-xl w-full max-w-2xl p-6 z-10">
                                            <button onClick={onClose} aria-label="Fechar" className="absolute top-3 right-3 text-zinc-500 hover:text-zinc-800">✕</button>
                                            <h3 className="text-xl font-bold text-red-600">Inscrições MAANAIM</h3>
                                            <p className="text-sm text-zinc-600 mt-1">Preencha seus dados para confirmar sua inscrição</p>

                                            <form onSubmit={submit} className="mt-6 grid grid-cols-1 gap-4">
                                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                                    <input value={firstName} onChange={e=>setFirstName(e.target.value)} placeholder="Nome" className="px-3 py-2 border rounded-md" required />
                                                    <input value={lastName} onChange={e=>setLastName(e.target.value)} placeholder="Sobrenome" className="px-3 py-2 border rounded-md" required />
                                                </div>

                                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                                    <input value={phone} onChange={onPhoneChange} placeholder="(99) 99999-9999" className="px-3 py-2 border rounded-md" required />
                                                    <input value={age} onChange={e=>setAge(e.target.value)} type="number" min="0" placeholder="Idade" className="px-3 py-2 border rounded-md" required />
                                                </div>

                                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                                    <input value={city} onChange={e=>setCity(e.target.value)} placeholder="Cidade" className="px-3 py-2 border rounded-md" required />
                                                    <select value={ministry} onChange={e=>setMinistry(e.target.value)} className="px-3 py-2 border rounded-md">
                                                        <option>Canhotinho</option>
                                                        <option>São João</option>
                                                        <option>Logradouro</option>
                                                        <option>Bom Conselho</option>
                                                        <option>Jurema</option>
                                                        <option>Jupi</option>
                                                        <option>Garanhuns</option>
                                                        <option>Correntes</option>
                                                    </select>
                                                </div>

                                                <div className="flex items-center justify-end gap-3 mt-4">
                                                    <button type="button" onClick={onClose} className="px-4 py-2 rounded-md border">Cancelar</button>
                                                    <button type="submit" className="px-4 py-2 rounded-md bg-red-600 text-white">Confirmar Inscrição</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                )
                            }

                            function CaminhadaModal({ onClose }){
                                const [firstName, setFirstName] = useState('')
                                const [lastName, setLastName] = useState('')
                                const [phone, setPhone] = useState('')
                                const [age, setAge] = useState('')
                                const [city, setCity] = useState('')
                                const [ministry, setMinistry] = useState('Canhotinho')

                                const formatPhone = (value) => {
                                    const nums = value.replace(/\D/g,'')
                                    if(nums.length <= 2) return nums
                                    if(nums.length <= 7) return `(${nums.slice(0,2)}) ${nums.slice(2)}`
                                    if(nums.length <= 11) return `(${nums.slice(0,2)}) ${nums.slice(2,7)}-${nums.slice(7,11)}`
                                    return `(${nums.slice(0,2)}) ${nums.slice(2,7)}-${nums.slice(7,11)}`
                                }

                                const onPhoneChange = (e) => {
                                    setPhone(formatPhone(e.target.value))
                                }

                                const submit = async (e) => {
                                    e.preventDefault()
                                    if(!firstName || !lastName || !phone || !age || !city) return alert('Preencha todos os campos obrigatórios.')
                                    const payload = { firstName, lastName, phone, age, city, ministry, form: 'Caminhada' }

                                    const res = await submitToWebhook(payload)

                                    const safeLog = { ...payload, phone: phone ? phone.replace(/\d(?=\d{4})/g, '*') : phone }
                                    console.log('Caminhada payload dispatched:', safeLog)

                                    if(res && res.ok){
                                        setFirstName('')
                                        setLastName('')
                                        setPhone('')
                                        setAge('')
                                        setCity('')
                                        setMinistry('Canhotinho')
                                        onClose()
                                    } else if(res && res.skipped){
                                        setFirstName('')
                                        setLastName('')
                                        setPhone('')
                                        setAge('')
                                        setCity('')
                                        setMinistry('Canhotinho')
                                        onClose()
                                    } else {
                                        alert('Erro ao enviar inscrição. Tente novamente mais tarde.')
                                    }
                                }

                                return (
                                    <div className="fixed inset-0 z-50 flex items-center justify-center">
                                        <div onClick={onClose} className="absolute inset-0 bg-black bg-opacity-40"></div>
                                        <div className="relative bg-white rounded-xl shadow-xl w-full max-w-2xl p-6 z-10">
                                            <button onClick={onClose} aria-label="Fechar" className="absolute top-3 right-3 text-zinc-500 hover:text-zinc-800">✕</button>
                                            <h3 className="text-xl font-bold text-red-600">Inscrições Caminhada</h3>
                                            <p className="text-sm text-zinc-600 mt-1">Preencha seus dados para confirmar sua inscrição</p>

                                            <form onSubmit={submit} className="mt-6 grid grid-cols-1 gap-4">
                                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                                    <input value={firstName} onChange={e=>setFirstName(e.target.value)} placeholder="Nome" className="px-3 py-2 border rounded-md" required />
                                                    <input value={lastName} onChange={e=>setLastName(e.target.value)} placeholder="Sobrenome" className="px-3 py-2 border rounded-md" required />
                                                </div>

                                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                                    <input value={phone} onChange={onPhoneChange} placeholder="(99) 99999-9999" className="px-3 py-2 border rounded-md" required />
                                                    <input value={age} onChange={e=>setAge(e.target.value)} type="number" min="0" placeholder="Idade" className="px-3 py-2 border rounded-md" required />
                                                </div>

                                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                                    <input value={city} onChange={e=>setCity(e.target.value)} placeholder="Cidade" className="px-3 py-2 border rounded-md" required />
                                                    <select value={ministry} onChange={e=>setMinistry(e.target.value)} className="px-3 py-2 border rounded-md">
                                                        <option>Canhotinho</option>
                                                        <option>São João</option>
                                                        <option>Logradouro</option>
                                                        <option>Bom Conselho</option>
                                                        <option>Jurema</option>
                                                        <option>Jupi</option>
                                                        <option>Garanhuns</option>
                                                        <option>Correntes</option>
                                                    </select>
                                                </div>

                                                <div className="flex items-center justify-end gap-3 mt-4">
                                                    <button type="button" onClick={onClose} className="px-4 py-2 rounded-md border">Cancelar</button>
                                                    <button type="submit" className="px-4 py-2 rounded-md bg-red-600 text-white">Confirmar Inscrição Caminhada</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                )
                            }

                            function Footer(){
                                return (
                                    <footer className="bg-white text-zinc-700 mt-12 border-t border-slate-100">
                                        <div className="container mx-auto px-6 py-8 flex flex-col md:flex-row items-center justify-between gap-6">
                                            <div>
                                                <div className="font-semibold text-zinc-900">Kerigma</div>
                                                <p className="text-sm text-zinc-500 mt-2">Rua 13 de Maio (Referência: Descendo a rua da Pata)</p>
                                            </div>

                                            <div className="flex items-center gap-6">
                                                <a href="#" className="group flex items-center gap-3">
                                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-zinc-600 group-hover:text-pink-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                        <rect x="2" y="2" width="20" height="20" rx="5" strokeWidth="1.5" />
                                                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" strokeWidth="1.5" />
                                                        <circle cx="17.5" cy="6.5" r="0.5" />
                                                    </svg>
                                                    <span className="text-sm text-zinc-600 group-hover:text-pink-600">@igrejakerigma</span>
                                                </a>

                                                <a href="#" className="group flex items-center gap-3">
                                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-zinc-600 group-hover:text-red-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                        <rect x="3" y="7" width="18" height="10" rx="2" strokeWidth="1.5" />
                                                        <polygon points="10 9 16 12 10 15 10 9" strokeWidth="1.5" />
                                                    </svg>
                                                    <span className="text-sm text-zinc-600 group-hover:text-red-600">Igreja Kerigma Oficial</span>
                                                </a>
                                            </div>
                                        </div>
                                        <div className="border-t border-slate-100 text-center py-4 text-sm text-zinc-500">© {new Date().getFullYear()} Kerigma — Todos os direitos reservados</div>
                                    </footer>
                                )
                            }

                            function App(){
                                const [showOffers, setShowOffers] = useState(false)
                                const [showRegistration, setShowRegistration] = useState(false)
                                const [showCaminhada, setShowCaminhada] = useState(false)
                                const [telaAtual, setTelaAtual] = useState('home')

                                const acessarAdmin = () => {
                                    const senha = prompt('Digite a senha do admin:', '')
                                    if(senha === 'kerigma2026'){
                                        setTelaAtual('admin')
                                    } else if(senha !== null){
                                        alert('Senha incorreta')
                                    }
                                }

                                React.useEffect(() => {
                                    const handleKeyDown = (e) => {
                                        if(e.ctrlKey && e.altKey && e.key === 'a'){
                                            e.preventDefault()
                                            acessarAdmin()
                                        }
                                    }
                                    window.addEventListener('keydown', handleKeyDown)
                                    return () => window.removeEventListener('keydown', handleKeyDown)
                                }, [])

                                if(telaAtual === 'admin'){
                                    return (
                                        <div className="min-h-screen flex flex-col">
                                            <AdminPage />
                                            <div className="flex justify-center p-4">
                                                <button onClick={() => setTelaAtual('home')} className="px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                                                    Voltar para Home
                                                </button>
                                            </div>
                                        </div>
                                    )
                                }

                                return (
                                    <div className="min-h-screen flex flex-col">
                                        <Header 
                                            openOffers={() => setShowOffers(true)}
                                            openRegistration={() => setShowRegistration(true)}
                                            openCaminhada={() => setShowCaminhada(true)}
                                            onSecretAccess={acessarAdmin}
                                        />
                                        <main className="flex-1">
                                            <Hero />
                                            <WeeklySchedule />
                                        </main>
                                        <Footer />
                                        {showOffers && <OfferModal onClose={() => setShowOffers(false)} />}
                                        {showRegistration && <RegistrationModal onClose={() => setShowRegistration(false)} />}
                                        {showCaminhada && <CaminhadaModal onClose={() => setShowCaminhada(false)} />}
                                    </div>
                                )
                            }

                            function AdminPage(){
                                const [password, setPassword] = useState('')
                                const [authorized, setAuthorized] = useState(false)
                                const [submissions, setSubmissions] = useState([])

                                const load = () => {
                                    try{
                                        const arr = JSON.parse(localStorage.getItem('inscricoes_kerigma') || '[]')
                                        setSubmissions(arr)
                                    }catch(e){
                                        setSubmissions([])
                                    }
                                }

                                const check = (e) => {
                                    e.preventDefault()
                                    if(password === 'kerigma2026'){
                                        setAuthorized(true)
                                        load()
                                    } else {
                                        alert('Senha incorreta')
                                    }
                                }

                                const exportCSV = () => {
                                    if(!submissions.length) return alert('Sem registros')
                                    const headers = ['form','firstName','lastName','phone','age','city','ministry','receivedAt']
                                    const rows = submissions.map(s => headers.map(h => `"${(s[h]||'').toString().replace(/"/g,'""')}"`).join(','))
                                    const csv = [headers.join(','), ...rows].join('\n')
                                    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })
                                    const url = URL.createObjectURL(blob)
                                    const a = document.createElement('a')
                                    a.href = url
                                    a.download = 'inscricoes_kerigma.csv'
                                    a.click()
                                    URL.revokeObjectURL(url)
                                }

                                return (
                                    <div className="min-h-screen p-8 bg-slate-50">
                                        <div className="max-w-4xl mx-auto bg-white rounded-xl shadow p-6">
                                            {!authorized ? (
                                                <form onSubmit={check} className="flex gap-3 items-center">
                                                    <label className="font-medium">Senha:</label>
                                                    <input type="password" value={password} onChange={e=>setPassword(e.target.value)} className="px-3 py-2 border rounded-md" />
                                                    <button className="px-4 py-2 bg-red-600 text-white rounded-md">Entrar</button>
                                                </form>
                                            ) : (
                                                <div>
                                                    <div className="flex items-center justify-between">
                                                        <h2 className="text-xl font-bold">Admin — Inscrições</h2>
                                                        <div className="flex gap-2">
                                                            <button onClick={load} className="px-3 py-1 border rounded">Atualizar</button>
                                                            <button onClick={exportCSV} className="px-3 py-1 bg-red-600 text-white rounded">Exportar para CSV</button>
                                                        </div>
                                                    </div>

                                                    {/* Resumo por Cidade */}
                                                    {submissions.length > 0 && (
                                                        <div className="mt-6">
                                                            <h3 className="text-lg font-semibold text-zinc-900 mb-4">Resumo por Cidade</h3>
                                                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                                                                {Object.entries(
                                                                    submissions.reduce((acc, s) => {
                                                                        const city = s.city || 'Sem Cidade'
                                                                        acc[city] = (acc[city] || 0) + 1
                                                                        return acc
                                                                    }, {})
                                                                )
                                                                .sort((a, b) => b[1] - a[1])
                                                                .map(([city, count]) => {
                                                                    let bgColor = 'bg-slate-100'
                                                                    let badgeColor = 'bg-slate-400'
                                                                    if(count > 10) {
                                                                        bgColor = 'bg-green-50'
                                                                        badgeColor = 'bg-green-500'
                                                                    } else if(count > 5) {
                                                                        bgColor = 'bg-orange-50'
                                                                        badgeColor = 'bg-orange-500'
                                                                    } else if(count > 3) {
                                                                        bgColor = 'bg-blue-50'
                                                                        badgeColor = 'bg-blue-500'
                                                                    }
                                                                    return (
                                                                        <div key={city} className={`${bgColor} rounded-lg p-4 flex items-center justify-between border border-slate-200`}>
                                                                            <div>
                                                                                <p className="text-sm font-medium text-zinc-600">Cidade</p>
                                                                                <p className="text-xl font-bold text-zinc-900">{city}</p>
                                                                            </div>
                                                                            <div className={`${badgeColor} text-white rounded-full w-16 h-16 flex items-center justify-center text-2xl font-bold`}>
                                                                                {count}
                                                                            </div>
                                                                        </div>
                                                                    )
                                                                })}
                                                            </div>
                                                        </div>
                                                    )}

                                                    <div className="mt-8">
                                                        <h3 className="text-lg font-semibold text-zinc-900 mb-4">Inscrições por Cidade</h3>
                                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                                            {Object.entries(
                                                                submissions.reduce((acc, s) => {
                                                                    const city = s.city || 'Sem Cidade'
                                                                    if(!acc[city]) acc[city] = []
                                                                    acc[city].push(s)
                                                                    return acc
                                                                }, {})
                                                            )
                                                            .sort((a, b) => b[1].length - a[1].length)
                                                            .map(([city, citySubmissions]) => (
                                                                <div key={city} className="bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden">
                                                                    {/* Header da Coluna */}
                                                                    <div className="bg-gradient-to-r from-red-600 to-red-700 px-4 py-3">
                                                                        <h4 className="text-white font-bold text-lg">{city}</h4>
                                                                        <p className="text-red-100 text-sm">{citySubmissions.length} {citySubmissions.length === 1 ? 'inscrito' : 'inscritos'}</p>
                                                                    </div>

                                                                    {/* Lista de Inscritos */}
                                                                    <div className="divide-y divide-slate-100 max-h-96 overflow-y-auto">
                                                                        {citySubmissions.map((s, idx) => (
                                                                            <div key={idx} className="px-4 py-3 hover:bg-slate-50 transition">
                                                                                <p className="font-medium text-zinc-900">{s.firstName} {s.lastName}</p>
                                                                                <p className="text-xs text-zinc-500 mt-1">📱 {s.phone}</p>
                                                                                <p className="text-xs text-zinc-500">👤 {s.age} anos</p>
                                                                                <p className="text-xs text-zinc-500">📍 {s.ministry}</p>
                                                                                <p className="text-xs text-zinc-400 mt-1 italic">{s.form}</p>
                                                                            </div>
                                                                        ))}
                                                                    </div>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                )
                            }

                            // render diferente quando acessado via /admin-kerigma
                            if(window.location && window.location.pathname === '/admin-kerigma'){
                                ReactDOM.createRoot(document.getElementById('root')).render(<AdminPage />)
                            } else {
                                ReactDOM.createRoot(document.getElementById('root')).render(<App />)
                            }
                        </script>
                    </body>
                </html>
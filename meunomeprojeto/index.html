<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Christ Saves</title>
    <style>
        :root {
            --black: #0b0b0f;
            --black-2: #12121a;
            --white: #ffffff;
            --orange: #ff6a00;
            --orange-soft: #ff9a3d;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: "Inter", "Segoe UI", sans-serif;
            color: var(--white);
            background: radial-gradient(1200px 800px at 80% -10%, #1f1308 0%, transparent 60%),
                radial-gradient(900px 700px at 10% 0%, #111 0%, transparent 50%),
                var(--black);
        }

        .container {
            width: min(1200px, 92vw);
            margin: 0 auto;
        }

        header {
            position: sticky;
            top: 0;
            z-index: 10;
            backdrop-filter: blur(10px);
            background: rgba(10, 10, 14, 0.75);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px 0;
        }

        .logo {
            font-weight: 700;
            letter-spacing: 0.5px;
            color: var(--white);
        }

        .logo span {
            color: var(--orange);
        }

        .nav-links {
            display: flex;
            gap: 22px;
        }

        .nav-links a {
            color: var(--white);
            text-decoration: none;
            opacity: 0.8;
            font-size: 0.95rem;
        }

        .nav-links a:hover {
            opacity: 1;
            color: var(--orange-soft);
        }

        .cta {
            background: linear-gradient(135deg, var(--orange), var(--orange-soft));
            color: #0b0b0f;
            border: none;
            padding: 12px 18px;
            border-radius: 999px;
            font-weight: 700;
            cursor: pointer;
        }

        .hero {
            padding: 70px 0 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 32px;
            align-items: center;
        }

        .hero h1 {
            font-size: clamp(2rem, 4vw, 3.5rem);
            margin: 0 0 12px;
        }

        .hero p {
            opacity: 0.8;
            line-height: 1.6;
            margin: 0 0 20px;
        }

        .hero-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .ghost {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--white);
            padding: 12px 18px;
            border-radius: 999px;
        }

        .glass-card {
            background: linear-gradient(160deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
            margin-top: 18px;
        }

        .stat h3 {
            margin: 0;
            color: var(--orange-soft);
            font-size: 1.4rem;
        }

        .section {
            padding: 50px 0;
        }

        .section h2 {
            margin: 0 0 8px;
        }

        .section p {
            margin: 0 0 24px;
            opacity: 0.75;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
        }

        .service {
            padding: 18px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: #0f0f16;
            transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .service:hover {
            transform: translateY(-4px);
            border-color: rgba(255, 154, 61, 0.6);
            box-shadow: 0 16px 32px rgba(0, 0, 0, 0.35);
        }

        .service h3 {
            margin: 0 0 8px;
            color: var(--orange-soft);
        }

        .tool-widget {
            margin-top: 14px;
            display: grid;
            gap: 12px;
        }

        .tool-widget.collapsible {
            display: none;
        }

        .tool-widget.collapsible.is-open {
            display: grid;
        }

        .notes-modal {
            position: fixed;
            inset: 0;
            display: none;
            place-items: center;
            z-index: 40;
        }

        .notes-modal.is-open {
            display: grid;
        }

        .notes-modal-backdrop {
            position: absolute;
            inset: 0;
            background: rgba(5, 5, 10, 0.85);
            backdrop-filter: blur(8px);
        }

        .notes-modal-card {
            position: relative;
            width: min(720px, 94vw);
            max-height: 90vh;
            overflow: auto;
            padding: 18px;
        }

        .tool-widget label {
            font-size: 0.85rem;
            opacity: 0.85;
            display: block;
            margin-bottom: 6px;
        }

        .tool-widget input,
        .tool-widget textarea,
        .tool-widget select {
            width: 100%;
            padding: 10px 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: #0b0b12;
            color: var(--white);
            font-family: inherit;
        }

        .tool-widget textarea {
            min-height: 80px;
            resize: vertical;
        }

        .tool-inline {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }

        .tool-result {
            font-size: 0.9rem;
            opacity: 0.85;
        }

        .tool-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            font-size: 0.75rem;
            opacity: 0.75;
        }

        .tool-card {
            display: flex;
            flex-direction: column;
            gap: 12px;
            cursor: pointer;
        }

        .tool-output {
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: #0b0b12;
            color: var(--white);
            border-radius: 12px;
            padding: 12px;
            min-height: 96px;
            white-space: pre-wrap;
        }

        .tool-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tool-action {
            padding: 8px 14px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            background: #ff8020;
            color: #0b0b0f;
            font-weight: 600;
            cursor: pointer;
        }

        .tool-action.tool-action-outline {
            background: transparent;
            color: var(--white);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .tool-meta {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .tool-metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }

        .tool-metric {
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: #0b0b12;
            border-radius: 12px;
            padding: 12px;
        }

        .tool-metric span {
            display: block;
            font-size: 0.75rem;
            opacity: 0.7;
        }

        .tool-metric strong {
            font-size: 1.05rem;
        }

        .link-preview {
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: #0b0b12;
            border-radius: 16px;
            padding: 16px;
            display: grid;
            gap: 12px;
            text-align: center;
        }

        .link-avatar {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: #ff8020;
            margin: 0 auto;
        }

        .link-list {
            display: grid;
            gap: 8px;
        }

        .link-item {
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 12px;
            padding: 10px;
            color: #ff8020;
            background: #0a0a0f;
            font-size: 0.85rem;
        }

        .palette-grid {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 10px;
        }

        .palette-swatch {
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            background: #0b0b12;
        }

        .palette-color {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            margin: 0 auto 8px;
        }

        .footer {
            padding: 40px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        .admin-card {
            display: grid;
            gap: 18px;
        }

        .admin-card label {
            display: block;
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 6px;
        }

        .admin-card input,
        .admin-card textarea {
            width: 100%;
            padding: 12px 14px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: #0b0b12;
            color: var(--white);
            font-family: inherit;
        }

        .admin-card textarea {
            min-height: 90px;
            resize: vertical;
        }

        .admin-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .admin-message {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .admin-cards {
            display: grid;
            gap: 16px;
        }

        .admin-card-block {
            padding: 16px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: linear-gradient(160deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            display: grid;
            gap: 12px;
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
        }

        .admin-card-block.edit-card {
            border: 1px solid rgba(255, 154, 61, 0.35);
            background: linear-gradient(160deg, rgba(255, 154, 61, 0.12), rgba(255, 255, 255, 0.02));
            box-shadow: 0 22px 50px rgba(0, 0, 0, 0.45);
        }

        .admin-card-block h4 {
            margin: 0;
            color: var(--orange-soft);
        }

        .hidden {
            display: none;
        }

        .admin-modal {
            position: fixed;
            inset: 0;
            display: none;
            place-items: center;
            z-index: 50;
        }

        .admin-modal.is-open {
            display: grid;
        }

        .admin-modal-backdrop {
            position: absolute;
            inset: 0;
            background: rgba(5, 5, 10, 0.85);
            backdrop-filter: blur(8px);
        }

        .admin-modal-content {
            position: relative;
            width: min(720px, 94vw);
            max-height: 90vh;
            overflow: auto;
            padding: 8px;
        }
    </style>
</head>
<body>
    <header>
        <div class="container nav">
            <div class="logo">Christ<span>Saves</span></div>
            <nav class="nav-links">
                <a href="#ferramentas">Ferramentas</a>
                <a href="#contato">Contato</a>
            </nav>
            <button class="cta">Solicitar proposta</button>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <div>
                <h1 data-content-key="heroTitle">Experiências digitais luxuosas e de alta tecnologia</h1>
                <p data-content-key="heroDesc">Transforme seu negócio com design premium, performance impecável e presença digital de alto padrão.</p>
                <div class="hero-actions">
                    <button class="cta">Agendar diagnóstico</button>
                    <button class="ghost">Ver portfólio</button>
                </div>
            </div>
            <div class="glass-card">
                <h2>Visão estratégica</h2>
                <p>Projetamos sites, landing pages e experiências digitais que comunicam exclusividade e confiança.</p>
                <p>Automação, branding e tecnologia alinhados à sua marca.</p>
            </div>
        </section>

        <section id="ferramentas" class="section">
            <h2>Ferramentas</h2>
            <p>Recursos premium para acelerar seus resultados.</p>
            <div class="grid">
                <div class="service tool-card" data-tool-card>
                    <h3>Scanner de Legibilidade</h3>
                    <p>Troque palavras comuns por termos de luxo e eleve a percepção instantaneamente.</p>
                    <div class="tool-widget collapsible">
                        <label for="lux-input">Texto original</label>
                        <textarea id="lux-input" placeholder="Digite seu texto..."></textarea>
                        <label for="lux-output">Texto premium</label>
                        <div class="tool-output" id="lux-output">Seu texto premium aparecerá aqui.</div>
                        <div class="tool-actions">
                            <button class="tool-action" id="lux-copy">Copiar</button>
                            <button class="tool-action tool-action-outline" id="lux-clear">Limpar</button>
                        </div>
                    </div>
                </div>

                <div class="service tool-card" data-tool-card>
                    <h3>Gerador de Bio High-Ticket</h3>
                    <p>Estruture bios para Instagram com posicionamento de luxo e clareza imediata.</p>
                    <div class="tool-widget collapsible">
                        <label for="bio-nome">Nome</label>
                        <input id="bio-nome" type="text" placeholder="Seu nome" />
                        <label for="bio-nicho">Nicho</label>
                        <input id="bio-nicho" type="text" placeholder="Nicho / posicionamento" />
                        <label for="bio-oferta">Oferta high-ticket</label>
                        <input id="bio-oferta" type="text" placeholder="Sua oferta premium" />
                        <label for="bio-resultado">Resultado principal</label>
                        <input id="bio-resultado" type="text" placeholder="Resultados desejados" />
                        <label for="bio-prova">Prova social</label>
                        <input id="bio-prova" type="text" placeholder="Prova / autoridade" />
                        <label for="bio-cta">CTA</label>
                        <input id="bio-cta" type="text" placeholder="Chamada para ação" />
                        <div class="tool-output" id="bio-output">Preencha o formulário para gerar sua bio.</div>
                        <div class="tool-actions">
                            <span class="tool-meta" id="bio-count">0 caracteres</span>
                            <button class="tool-action" id="bio-copy">Copiar bio</button>
                        </div>
                    </div>
                </div>

                <div class="service tool-card" data-tool-card>
                    <h3>Calculadora de Break-Even</h3>
                    <p>Projete o ROI e o ponto de equilíbrio para tráfego pago com clareza premium.</p>
                    <div class="tool-widget collapsible">
                        <label for="be-investimento">Investimento em tráfego (R$)</label>
                        <input id="be-investimento" type="number" value="5000" />
                        <label for="be-leads">Leads gerados</label>
                        <input id="be-leads" type="number" value="200" />
                        <label for="be-conversao">Taxa de conversão (0-1)</label>
                        <input id="be-conversao" type="number" step="0.01" value="0.05" />
                        <label for="be-ticket">Ticket médio (R$)</label>
                        <input id="be-ticket" type="number" value="3000" />
                        <label for="be-margem">Margem líquida (0-1)</label>
                        <input id="be-margem" type="number" step="0.01" value="0.6" />
                        <div class="tool-metric-grid">
                            <div class="tool-metric"><span>Receita bruta</span><strong id="be-receita">R$ 0,00</strong></div>
                            <div class="tool-metric"><span>Lucro estimado</span><strong id="be-lucro">R$ 0,00</strong></div>
                            <div class="tool-metric"><span>ROI</span><strong id="be-roi">0%</strong></div>
                            <div class="tool-metric"><span>CPL atual</span><strong id="be-cpl">R$ 0,00</strong></div>
                            <div class="tool-metric"><span>Break-even CPA</span><strong id="be-cpa">R$ 0,00</strong></div>
                            <div class="tool-metric"><span>ROAS atual</span><strong id="be-roas">0</strong></div>
                            <div class="tool-metric"><span>ROAS break-even</span><strong id="be-roas-be">0</strong></div>
                        </div>
                    </div>
                </div>

                <div class="service tool-card" data-tool-card>
                    <h3>Link-in-Bio Minimalista</h3>
                    <p>Crie uma página de links com estética sofisticada e foco absoluto no luxo.</p>
                    <div class="tool-widget collapsible">
                        <label for="lib-nome">Nome</label>
                        <input id="lib-nome" type="text" value="Seu Nome" />
                        <label for="lib-headline">Headline</label>
                        <input id="lib-headline" type="text" value="Consultor Premium" />
                        <label for="lib-bio">Bio curta</label>
                        <textarea id="lib-bio">Estratégia de crescimento com estética de luxo.</textarea>
                        <label for="lib-link-1">Link 1 (título)</label>
                        <input id="lib-link-1" type="text" value="Aplicar para consultoria" />
                        <label for="lib-url-1">Link 1 (URL)</label>
                        <input id="lib-url-1" type="text" value="https://seusite.com" />
                        <label for="lib-link-2">Link 2 (título)</label>
                        <input id="lib-link-2" type="text" value="Conteúdos exclusivos" />
                        <label for="lib-url-2">Link 2 (URL)</label>
                        <input id="lib-url-2" type="text" value="https://seusite.com/insights" />
                        <label for="lib-link-3">Link 3 (título)</label>
                        <input id="lib-link-3" type="text" value="Podcast" />
                        <label for="lib-url-3">Link 3 (URL)</label>
                        <input id="lib-url-3" type="text" value="https://seusite.com/podcast" />
                        <div class="link-preview" id="lib-preview">
                            <div class="link-avatar"></div>
                            <div>
                                <strong id="lib-preview-nome">Seu Nome</strong>
                                <div class="tool-meta" id="lib-preview-headline">Consultor Premium</div>
                            </div>
                            <div class="tool-meta" id="lib-preview-bio">Estratégia de crescimento com estética de luxo.</div>
                            <div class="link-list" id="lib-preview-links">
                                <div class="link-item">Aplicar para consultoria</div>
                                <div class="link-item">Conteúdos exclusivos</div>
                                <div class="link-item">Podcast</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="service tool-card" data-tool-card>
                    <h3>Extrator de Paleta</h3>
                    <p>Faça upload de uma imagem e extraia 3 cores principais via Canvas API.</p>
                    <div class="tool-widget collapsible">
                        <label for="palette-input">Imagem</label>
                        <input id="palette-input" type="file" accept="image/*" />
                        <img id="palette-preview" alt="Prévia" style="display: none; width: 100%; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.12);" />
                        <div class="palette-grid" id="palette-colors">
                            <div class="palette-swatch">
                                <div class="palette-color" style="background: #1f1f1f;"></div>
                                <div class="tool-meta">#1F1F1F</div>
                            </div>
                            <div class="palette-swatch">
                                <div class="palette-color" style="background: #ff8020;"></div>
                                <div class="tool-meta">#FF8020</div>
                            </div>
                            <div class="palette-swatch">
                                <div class="palette-color" style="background: #ffffff;"></div>
                                <div class="tool-meta">#FFFFFF</div>
                            </div>
                        </div>
                        <canvas id="palette-canvas" style="display: none;"></canvas>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer id="contato" class="container footer">
        <span data-content-key="contactText">Entre em contato para uma proposta personalizada.</span>
    </footer>

    <div class="notes-modal" id="notes-modal" aria-hidden="true">
        <div class="notes-modal-backdrop" id="notes-modal-backdrop"></div>
        <div class="notes-modal-card glass-card" role="dialog" aria-modal="true" aria-label="Notas">
            <div class="admin-actions" style="justify-content: space-between; align-items: center;">
                <h3 style="margin: 0;">Notas</h3>
                <button class="ghost" id="notes-close">Fechar</button>
            </div>
            <div class="tool-widget" id="notes-widget">
                <div>
                    <label for="notes-routine">Organização da rotina</label>
                    <textarea id="notes-routine" placeholder="Planeje sua rotina diária..."></textarea>
                </div>
                <div>
                    <label for="notes-ideas">Anotações</label>
                    <textarea id="notes-ideas" placeholder="Anote ideias, lembretes e decisões..."></textarea>
                </div>
                <div>
                    <label for="calc-input">Cálculos rápidos</label>
                    <input id="calc-input" type="text" placeholder="Ex: (2+3)*4 / 5" />
                    <div class="tool-result" id="calc-result">Resultado: -</div>
                </div>
                <div>
                    <label>Conversão de moedas <span class="tool-badge">tempo real</span></label>
                    <div class="tool-inline">
                        <input id="currency-amount" type="number" inputmode="decimal" placeholder="Valor" />
                        <select id="currency-from">
                            <option value="BRL">BRL</option>
                            <option value="USD" selected>USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                        </select>
                        <select id="currency-to">
                            <option value="BRL" selected>BRL</option>
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                        </select>
                    </div>
                    <div class="tool-result" id="currency-result">Conversão: -</div>
                    <div class="tool-result" id="currency-status"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="admin-modal" id="admin-modal" aria-hidden="true">
        <div class="admin-modal-backdrop" id="admin-modal-backdrop"></div>
        <div class="admin-modal-content admin-card" role="dialog" aria-modal="true" aria-label="Área admin">
            <div class="admin-login admin-card-block" id="admin-login">
                <h3>Login Admin</h3>
                <label for="admin-user">Usuário</label>
                <input id="admin-user" type="text" autocomplete="username" placeholder="Seu usuário" />
                <label for="admin-pass">Senha</label>
                <input id="admin-pass" type="password" autocomplete="current-password" placeholder="Sua senha" />
                <div class="admin-actions">
                    <button class="cta" id="admin-login-btn">Entrar</button>
                    <button class="ghost" id="admin-close">Fechar</button>
                </div>
                <div class="admin-message" id="admin-message"></div>
            </div>

            <div class="admin-panel hidden" id="admin-panel">
                <div class="admin-cards">
                    <div class="admin-card-block edit-card">
                        <h4>Edições do site</h4>
                        <div>
                            <label for="admin-hero-title">Título principal</label>
                            <input id="admin-hero-title" type="text" data-edit-key="heroTitle" />
                        </div>
                        <div>
                            <label for="admin-hero-desc">Descrição principal</label>
                            <textarea id="admin-hero-desc" data-edit-key="heroDesc"></textarea>
                        </div>
                        <div>
                            <label for="admin-tool-1">Ferramenta 1 (título)</label>
                            <input id="admin-tool-1" type="text" data-edit-key="tool1Title" />
                        </div>
                        <div>
                            <label for="admin-tool-1-desc">Ferramenta 1 (descrição)</label>
                            <textarea id="admin-tool-1-desc" data-edit-key="tool1Desc"></textarea>
                        </div>
                        <div>
                            <label for="admin-tool-2">Ferramenta 2 (título)</label>
                            <input id="admin-tool-2" type="text" data-edit-key="tool2Title" />
                        </div>
                        <div>
                            <label for="admin-tool-2-desc">Ferramenta 2 (descrição)</label>
                            <textarea id="admin-tool-2-desc" data-edit-key="tool2Desc"></textarea>
                        </div>
                        <div>
                            <label for="admin-tool-3">Ferramenta 3 (título)</label>
                            <input id="admin-tool-3" type="text" data-edit-key="tool3Title" />
                        </div>
                        <div>
                            <label for="admin-tool-3-desc">Ferramenta 3 (descrição)</label>
                            <textarea id="admin-tool-3-desc" data-edit-key="tool3Desc"></textarea>
                        </div>
                        <div>
                            <label for="admin-tool-4">Ferramenta 4 (título)</label>
                            <input id="admin-tool-4" type="text" data-edit-key="tool4Title" />
                        </div>
                        <div>
                            <label for="admin-tool-4-desc">Ferramenta 4 (descrição)</label>
                            <textarea id="admin-tool-4-desc" data-edit-key="tool4Desc"></textarea>
                        </div>
                        <div>
                            <label for="admin-contact">Texto de contato</label>
                            <textarea id="admin-contact" data-edit-key="contactText"></textarea>
                        </div>
                        <div class="admin-actions">
                            <button class="cta" id="admin-save">Salvar</button>
                            <button class="ghost" id="admin-logout">Sair</button>
                        </div>
                        <div class="admin-message" id="admin-save-message"></div>
                    </div>

                    <div class="admin-card-block">
                        <h4>Função futura 1</h4>
                        <p class="admin-message">Reservado para próximas automações.</p>
                    </div>
                    <div class="admin-card-block">
                        <h4>Função futura 2</h4>
                        <p class="admin-message">Reservado para próximas automações.</p>
                    </div>
                    <div class="admin-card-block">
                        <h4>Função futura 3</h4>
                        <p class="admin-message">Reservado para próximas automações.</p>
                    </div>
                    <div class="admin-card-block">
                        <h4>Função futura 4</h4>
                        <p class="admin-message">Reservado para próximas automações.</p>
                    </div>
                    <div class="admin-card-block">
                        <h4>Função futura 5</h4>
                        <p class="admin-message">Reservado para próximas automações.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const ADMIN_USER = "admin";
        const ADMIN_PASS = "1234";
        const ADMIN_TOKEN = "troque-este-token";
        const API_URL = "/api/content";
        const CONTENT_KEY = "cs_content";
        let isAuthed = false;

        const modal = document.getElementById("admin-modal");
        const modalBackdrop = document.getElementById("admin-modal-backdrop");
        const loginWrapper = document.getElementById("admin-login");
        const panelWrapper = document.getElementById("admin-panel");
        const loginMessage = document.getElementById("admin-message");
        const saveMessage = document.getElementById("admin-save-message");

        const applyContent = (data) => {
            Object.entries(data).forEach(([key, value]) => {
                const nodes = document.querySelectorAll(`[data-content-key="${key}"]`);
                nodes.forEach((node) => {
                    node.textContent = value;
                });
            });
        };

        const loadContent = () => {
            const raw = localStorage.getItem(CONTENT_KEY);
            if (!raw) return {};
            try {
                return JSON.parse(raw);
            } catch {
                return {};
            }
        };

        const fetchContent = async () => {
            try {
                const response = await fetch(API_URL, { cache: "no-store" });
                if (!response.ok) throw new Error("api_error");
                const data = await response.json();
                if (data && typeof data === "object") {
                    localStorage.setItem(CONTENT_KEY, JSON.stringify(data));
                    return data;
                }
            } catch {
                return loadContent();
            }
            return {};
        };

        const setFormValues = (data) => {
            document.querySelectorAll("[data-edit-key]").forEach((input) => {
                const key = input.getAttribute("data-edit-key");
                if (key && data[key] !== undefined) {
                    input.value = data[key];
                } else {
                    const fallback = document.querySelector(`[data-content-key="${key}"]`);
                    input.value = fallback ? fallback.textContent.trim() : "";
                }
            });
        };

        const showPanel = () => {
            loginWrapper.classList.add("hidden");
            panelWrapper.classList.remove("hidden");
            setFormValues(loadContent());
        };

        const showLogin = () => {
            loginWrapper.classList.remove("hidden");
            panelWrapper.classList.add("hidden");
        };

        const openModal = () => {
            modal.classList.add("is-open");
            modal.setAttribute("aria-hidden", "false");
            if (!isAuthed) {
                showLogin();
            } else {
                showPanel();
            }
        };

        const closeModal = () => {
            modal.classList.remove("is-open");
            modal.setAttribute("aria-hidden", "true");
            loginMessage.textContent = "";
        };

        const init = async () => {
            const data = await fetchContent();
            applyContent(data);
            closeModal();
        };

        const syncContent = async () => {
            if (modal.classList.contains("is-open") && isAuthed) return;
            const data = await fetchContent();
            applyContent(data);
        };

        document.getElementById("admin-login-btn").addEventListener("click", () => {
            const user = document.getElementById("admin-user").value.trim();
            const pass = document.getElementById("admin-pass").value.trim();
            if (user === ADMIN_USER && pass === ADMIN_PASS) {
                isAuthed = true;
                loginMessage.textContent = "Acesso liberado.";
                showPanel();
            } else {
                loginMessage.textContent = "Usuário ou senha inválidos.";
            }
        });

        document.getElementById("admin-close").addEventListener("click", closeModal);
        modalBackdrop.addEventListener("click", closeModal);

        document.getElementById("admin-save").addEventListener("click", async () => {
            const data = loadContent();
            document.querySelectorAll("[data-edit-key]").forEach((input) => {
                const key = input.getAttribute("data-edit-key");
                if (key) {
                    data[key] = input.value.trim();
                }
            });
            try {
                const response = await fetch(API_URL, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "X-Admin-Token": ADMIN_TOKEN,
                    },
                    body: JSON.stringify(data),
                });
                if (!response.ok) throw new Error("save_error");
                localStorage.setItem(CONTENT_KEY, JSON.stringify(data));
                applyContent(data);
                saveMessage.textContent = "Atualizações salvas no servidor.";
            } catch {
                localStorage.setItem(CONTENT_KEY, JSON.stringify(data));
                applyContent(data);
                saveMessage.textContent = "Falha ao salvar no servidor. Salvo apenas neste navegador.";
            }
        });

        document.getElementById("admin-logout").addEventListener("click", () => {
            isAuthed = false;
            saveMessage.textContent = "";
            showLogin();
        });

        document.addEventListener("keydown", (event) => {
            if (event.ctrlKey && event.shiftKey && event.key.toLowerCase() === "l") {
                event.preventDefault();
                if (!modal.classList.contains("is-open")) {
                    openModal();
                } else {
                    closeModal();
                }
            }
            if (event.key === "Escape" && modal.classList.contains("is-open")) {
                closeModal();
            }
        });

        document.addEventListener("visibilitychange", () => {
            if (!document.hidden) {
                syncContent();
            }
        });

        const routineField = document.getElementById("notes-routine");
        const notesField = document.getElementById("notes-ideas");
        const calcInput = document.getElementById("calc-input");
        const calcResult = document.getElementById("calc-result");
        const currencyAmount = document.getElementById("currency-amount");
        const currencyFrom = document.getElementById("currency-from");
        const currencyTo = document.getElementById("currency-to");
        const currencyResult = document.getElementById("currency-result");
        const currencyStatus = document.getElementById("currency-status");
        const notesCard = document.getElementById("notes-card");
        const notesModal = document.getElementById("notes-modal");
        const notesBackdrop = document.getElementById("notes-modal-backdrop");
        const notesClose = document.getElementById("notes-close");
        const luxInput = document.getElementById("lux-input");
        const luxOutput = document.getElementById("lux-output");
        const luxCopy = document.getElementById("lux-copy");
        const luxClear = document.getElementById("lux-clear");
        const bioNome = document.getElementById("bio-nome");
        const bioNicho = document.getElementById("bio-nicho");
        const bioOferta = document.getElementById("bio-oferta");
        const bioResultado = document.getElementById("bio-resultado");
        const bioProva = document.getElementById("bio-prova");
        const bioCta = document.getElementById("bio-cta");
        const bioOutput = document.getElementById("bio-output");
        const bioCount = document.getElementById("bio-count");
        const bioCopy = document.getElementById("bio-copy");
        const beInvestimento = document.getElementById("be-investimento");
        const beLeads = document.getElementById("be-leads");
        const beConversao = document.getElementById("be-conversao");
        const beTicket = document.getElementById("be-ticket");
        const beMargem = document.getElementById("be-margem");
        const beReceita = document.getElementById("be-receita");
        const beLucro = document.getElementById("be-lucro");
        const beRoi = document.getElementById("be-roi");
        const beCpl = document.getElementById("be-cpl");
        const beCpa = document.getElementById("be-cpa");
        const beRoas = document.getElementById("be-roas");
        const beRoasBe = document.getElementById("be-roas-be");
        const libNome = document.getElementById("lib-nome");
        const libHeadline = document.getElementById("lib-headline");
        const libBio = document.getElementById("lib-bio");
        const libLink1 = document.getElementById("lib-link-1");
        const libLink2 = document.getElementById("lib-link-2");
        const libLink3 = document.getElementById("lib-link-3");
        const libPreviewNome = document.getElementById("lib-preview-nome");
        const libPreviewHeadline = document.getElementById("lib-preview-headline");
        const libPreviewBio = document.getElementById("lib-preview-bio");
        const libPreviewLinks = document.getElementById("lib-preview-links");
        const paletteInput = document.getElementById("palette-input");
        const palettePreview = document.getElementById("palette-preview");
        const paletteColors = document.getElementById("palette-colors");
        const paletteCanvas = document.getElementById("palette-canvas");

        const NOTES_ROUTINE_KEY = "cs_notes_routine";
        const NOTES_IDEAS_KEY = "cs_notes_ideas";
        const RATES_URL = "https://open.er-api.com/v6/latest/USD";
        const RATES_TTL = 5 * 60 * 1000;
        let ratesCache = { timestamp: 0, rates: {} };

        const loadNotes = () => {
            if (!routineField || !notesField) return;
            routineField.value = localStorage.getItem(NOTES_ROUTINE_KEY) || "";
            notesField.value = localStorage.getItem(NOTES_IDEAS_KEY) || "";
        };

        const saveNotes = () => {
            if (!routineField || !notesField) return;
            localStorage.setItem(NOTES_ROUTINE_KEY, routineField.value);
            localStorage.setItem(NOTES_IDEAS_KEY, notesField.value);
        };

        const safeEvalCalc = (expression) => {
            const normalized = expression.replace(/,/g, ".").replace(/\s+/g, "");
            if (!normalized) return "-";
            if (!/^[0-9+\-*/().]+$/.test(normalized)) return "Expressão inválida";
            try {
                const result = Function(`"use strict"; return (${normalized})`)();
                if (typeof result !== "number" || !isFinite(result)) return "Erro";
                return result.toString();
            } catch {
                return "Erro";
            }
        };

        const updateCalc = () => {
            if (!calcInput || !calcResult) return;
            const result = safeEvalCalc(calcInput.value);
            calcResult.textContent = `Resultado: ${result}`;
        };

        const fetchRates = async () => {
            const now = Date.now();
            if (now - ratesCache.timestamp < RATES_TTL && Object.keys(ratesCache.rates).length) {
                return ratesCache.rates;
            }
            try {
                const response = await fetch(RATES_URL, { cache: "no-store" });
                if (!response.ok) throw new Error("rates_error");
                const data = await response.json();
                if (data && data.rates) {
                    ratesCache = { timestamp: now, rates: data.rates };
                    return data.rates;
                }
            } catch {
                return ratesCache.rates;
            }
            return {};
        };

        const updateCurrency = async () => {
            if (!currencyAmount || !currencyFrom || !currencyTo || !currencyResult || !currencyStatus) return;
            const amount = parseFloat(currencyAmount.value.replace(/,/g, "."));
            if (!amount) {
                currencyResult.textContent = "Conversão: -";
                return;
            }
            const rates = await fetchRates();
            const from = currencyFrom.value;
            const to = currencyTo.value;
            if (!rates[from] || !rates[to]) {
                currencyResult.textContent = "Conversão: indisponível";
                currencyStatus.textContent = "Sem dados de câmbio agora.";
                return;
            }
            const usdAmount = amount / rates[from];
            const converted = usdAmount * rates[to];
            currencyResult.textContent = `Conversão: ${converted.toFixed(2)} ${to}`;
            currencyStatus.textContent = "Atualizado automaticamente.";
        };

        const luxuryMap = {
            comum: "exclusivo",
            simples: "refinado",
            barato: "premium",
            bom: "excepcional",
            melhor: "incomparável",
            rapido: "imediato",
            rápido: "imediato",
            facil: "fluido",
            fácil: "fluido",
            resultado: "resultado elevado",
            resultados: "resultados elevados",
            alto: "elevado",
            alta: "elevada",
            valor: "valor estratégico",
            cliente: "cliente seleto",
            clientes: "clientes seletos",
            oferta: "proposta exclusiva",
            servico: "serviço de alto padrão",
            serviço: "serviço de alto padrão",
            servicos: "serviços de alto padrão",
            serviços: "serviços de alto padrão",
            produto: "produto de luxo",
            produtos: "produtos de luxo",
            objetivo: "meta refinada",
            garantia: "segurança premium",
            qualidade: "excelência"
        };

        const transformText = (text) => {
            let result = text;
            Object.entries(luxuryMap).forEach(([key, value]) => {
                const regex = new RegExp(`\\b${key}\\b`, "gi");
                result = result.replace(regex, (match) => {
                    const isUpper = match === match.toUpperCase();
                    if (isUpper) return value.toUpperCase();
                    const isCapitalized = match[0] === match[0].toUpperCase();
                    if (isCapitalized) return value[0].toUpperCase() + value.slice(1);
                    return value;
                });
            });
            return result;
        };

        let luxTimer;

        const fetchLux = async (text) => {
            const response = await fetch("/api/lux-scan", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ text }),
            });
            if (!response.ok) throw new Error("api_error");
            const data = await response.json();
            return data?.output || "";
        };

        const updateLux = async () => {
            if (!luxInput || !luxOutput) return;
            const text = luxInput.value || "";
            if (!text.trim()) {
                luxOutput.textContent = "Seu texto premium aparecerá aqui.";
                return;
            }
            luxOutput.textContent = "Gerando versão premium...";
            try {
                const output = await fetchLux(text);
                luxOutput.textContent = output || transformText(text);
            } catch {
                luxOutput.textContent = transformText(text);
            }
        };

        const buildBio = () => {
            if (!bioOutput || !bioCount) return;
            const nome = bioNome?.value.trim() || "Seu Nome";
            const nicho = bioNicho?.value.trim() || "Seu Nicho";
            const oferta = bioOferta?.value.trim() || "sua oferta high-ticket";
            const resultado = bioResultado?.value.trim() || "resultados";
            const prova = bioProva?.value.trim() || "+R$ 1M gerados para clientes seletos.";
            const cta = bioCta?.value.trim() || "Aplique para a consultoria premium";
            const lines = [
                `${nome} • ${nicho}`,
                `Aumento ${resultado} com ${oferta}.`,
                `Prova: ${prova}`,
                `⬇ ${cta}`
            ];
            const text = lines.join("\n");
            bioOutput.textContent = text;
            bioCount.textContent = `${text.length} caracteres`;
        };

        const currencyFormatter = new Intl.NumberFormat("pt-BR", { style: "currency", currency: "BRL" });
        const formatCurrency = (value) => currencyFormatter.format(Number.isFinite(value) ? value : 0);
        const formatPercent = (value) => `${(Number.isFinite(value) ? value : 0).toFixed(2)}%`;

        const updateBreakEven = () => {
            if (!beInvestimento || !beLeads || !beConversao || !beTicket || !beMargem) return;
            const investimento = parseFloat(beInvestimento.value) || 0;
            const leads = parseFloat(beLeads.value) || 0;
            const conversao = parseFloat(beConversao.value) || 0;
            const ticket = parseFloat(beTicket.value) || 0;
            const margem = parseFloat(beMargem.value) || 0;
            const receitaBruta = leads * conversao * ticket;
            const lucro = receitaBruta * margem - investimento;
            const roi = investimento > 0 ? (lucro / investimento) * 100 : 0;
            const roas = investimento > 0 ? receitaBruta / investimento : 0;
            const breakEvenCpa = ticket * margem * conversao;
            const breakEvenRoas = margem > 0 ? 1 / margem : 0;
            const custoPorLead = leads > 0 ? investimento / leads : 0;

            if (beReceita) beReceita.textContent = formatCurrency(receitaBruta);
            if (beLucro) beLucro.textContent = formatCurrency(lucro);
            if (beRoi) beRoi.textContent = formatPercent(roi);
            if (beCpl) beCpl.textContent = formatCurrency(custoPorLead);
            if (beCpa) beCpa.textContent = formatCurrency(breakEvenCpa);
            if (beRoas) beRoas.textContent = roas.toFixed(2);
            if (beRoasBe) beRoasBe.textContent = breakEvenRoas.toFixed(2);
        };

        const updateLinkPreview = () => {
            if (!libPreviewNome || !libPreviewHeadline || !libPreviewBio || !libPreviewLinks) return;
            const nome = libNome?.value.trim() || "Seu Nome";
            const headline = libHeadline?.value.trim() || "Consultor Premium";
            const bio = libBio?.value.trim() || "Estratégia de crescimento com estética de luxo.";
            const links = [libLink1?.value, libLink2?.value, libLink3?.value]
                .map((value) => (value || "").trim())
                .filter(Boolean);

            libPreviewNome.textContent = nome;
            libPreviewHeadline.textContent = headline;
            libPreviewBio.textContent = bio;
            libPreviewLinks.innerHTML = "";
            links.forEach((label) => {
                const item = document.createElement("div");
                item.className = "link-item";
                item.textContent = label;
                libPreviewLinks.appendChild(item);
            });
        };

        const rgbToHex = (r, g, b) =>
            `#${[r, g, b]
                .map((c) => Math.max(0, Math.min(255, Math.round(c))).toString(16).padStart(2, "0"))
                .join("")
                .toUpperCase()}`;

        const quantize = (value, steps = 16) => Math.round(value / (255 / steps)) * (255 / steps);

        const updatePaletteSwatches = (colors) => {
            if (!paletteColors) return;
            paletteColors.innerHTML = "";
            colors.forEach((color) => {
                const swatch = document.createElement("div");
                swatch.className = "palette-swatch";
                const circle = document.createElement("div");
                circle.className = "palette-color";
                circle.style.background = color;
                const label = document.createElement("div");
                label.className = "tool-meta";
                label.textContent = color;
                swatch.appendChild(circle);
                swatch.appendChild(label);
                paletteColors.appendChild(swatch);
            });
        };

        const extractPalette = (image) => {
            if (!paletteCanvas) return;
            const ctx = paletteCanvas.getContext("2d");
            const size = 200;
            paletteCanvas.width = size;
            paletteCanvas.height = size;
            ctx.drawImage(image, 0, 0, size, size);
            const { data } = ctx.getImageData(0, 0, size, size);
            const bucket = new Map();

            for (let i = 0; i < data.length; i += 16) {
                const r = quantize(data[i]);
                const g = quantize(data[i + 1]);
                const b = quantize(data[i + 2]);
                const key = `${r},${g},${b}`;
                bucket.set(key, (bucket.get(key) || 0) + 1);
            }

            const top = [...bucket.entries()]
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3)
                .map(([key]) => {
                    const [r, g, b] = key.split(",").map(Number);
                    return rgbToHex(r, g, b);
                });

            if (top.length) updatePaletteSwatches(top);
        };

        if (routineField && notesField) {
            routineField.addEventListener("input", saveNotes);
            notesField.addEventListener("input", saveNotes);
        }
        if (calcInput) {
            calcInput.addEventListener("input", updateCalc);
        }
        if (currencyAmount && currencyFrom && currencyTo) {
            currencyAmount.addEventListener("input", updateCurrency);
            currencyFrom.addEventListener("change", updateCurrency);
            currencyTo.addEventListener("change", updateCurrency);
        }

        const openNotesModal = () => {
            notesModal.classList.add("is-open");
            notesModal.setAttribute("aria-hidden", "false");
        };

        const closeNotesModal = () => {
            notesModal.classList.remove("is-open");
            notesModal.setAttribute("aria-hidden", "true");
        };

        if (notesCard && notesModal && notesClose && notesBackdrop) {
            notesCard.addEventListener("click", () => {
                openNotesModal();
            });

            notesCard.addEventListener("keydown", (event) => {
                if (event.key === "Enter" || event.key === " ") {
                    event.preventDefault();
                    openNotesModal();
                }
            });

            notesClose.addEventListener("click", closeNotesModal);
            notesBackdrop.addEventListener("click", closeNotesModal);
        }

        if (luxInput) {
            luxInput.addEventListener("input", () => {
                clearTimeout(luxTimer);
                luxTimer = setTimeout(updateLux, 600);
            });
        }
        if (luxCopy) {
            luxCopy.addEventListener("click", () => {
                if (luxOutput?.textContent) navigator.clipboard?.writeText(luxOutput.textContent);
            });
        }
        if (luxClear) {
            luxClear.addEventListener("click", () => {
                if (luxInput) luxInput.value = "";
                updateLux();
            });
        }

        [bioNome, bioNicho, bioOferta, bioResultado, bioProva, bioCta].forEach((field) => {
            if (field) field.addEventListener("input", buildBio);
        });
        if (bioCopy) {
            bioCopy.addEventListener("click", () => {
                if (bioOutput?.textContent) navigator.clipboard?.writeText(bioOutput.textContent);
            });
        }

        [beInvestimento, beLeads, beConversao, beTicket, beMargem].forEach((field) => {
            if (field) field.addEventListener("input", updateBreakEven);
        });

        [libNome, libHeadline, libBio, libLink1, libLink2, libLink3].forEach((field) => {
            if (field) field.addEventListener("input", updateLinkPreview);
        });

        if (paletteInput) {
            paletteInput.addEventListener("change", (event) => {
                const file = event.target.files?.[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = () => {
                    const img = new Image();
                    img.onload = () => {
                        if (palettePreview) {
                            palettePreview.src = reader.result;
                            palettePreview.style.display = "block";
                        }
                        extractPalette(img);
                    };
                    img.src = reader.result;
                };
                reader.readAsDataURL(file);
            });
        }

        document.querySelectorAll("[data-tool-card]").forEach((card) => {
            const collapsible = card.querySelector(".tool-widget.collapsible");
            if (!collapsible) return;
            card.addEventListener("click", (event) => {
                const isInteractive = event.target.closest("input, textarea, button, select, a, label");
                if (isInteractive) return;
                collapsible.classList.toggle("is-open");
            });
        });

        init();
        loadNotes();
        updateCalc();
        updateCurrency();
        updateLux();
        buildBio();
        updateBreakEven();
        updateLinkPreview();
        setInterval(syncContent, 30000);
        setInterval(updateCurrency, RATES_TTL);
    </script>
</body>
</html>
